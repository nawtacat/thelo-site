<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title data-i18n="title">thelo</title>
    <link rel="icon" href="https://thelo.space/img/thelofavicon.png" type="image/png" />
    <link rel="apple-touch-icon" href="https://thelo.space/img/yarnicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+Armenian:wght@400;700&family=Roboto:wght@700;800&display=swap" rel="stylesheet">

    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

    <style>
        :root {
            --thelo-blue: #2563EB;
            --thelo-bg: #F8F9FA;
            --thelo-text: #111827;
            --grid-color: #E5E7EB;
        }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Manrope', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            background-color: var(--thelo-bg);
            color: var(--thelo-text);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            background-image:
                linear-gradient(to right, var(--grid-color) 1px, transparent 1px),
                linear-gradient(to bottom, var(--grid-color) 1px, transparent 1px);
            background-size: 40px 40px;
        }
        /* Armenian Font Overrides */
        html[lang="hy"] body {
            font-family: 'Noto Serif Armenian', serif;
        }
        html[lang="hy"] h1, html[lang="hy"] h2, html[lang="hy"] h3, html[lang="hy"] h4, html[lang="hy"] h5, html[lang="hy"] h6,
        html[lang="hy"] .font-semibold, html[lang="hy"] .font-bold, html[lang="hy"] .font-extrabold {
            font-family: 'Roboto', sans-serif;
        }
        h1, h2, h3, h4, h5, h6 { font-weight: 800; }
        .anim-target {
            opacity: 0;
            transition: opacity 0.7s cubic-bezier(0.215, 0.610, 0.355, 1), transform 0.7s cubic-bezier(0.215, 0.610, 0.355, 1);
            transform: translateY(20px);
        }
        .anim-target.is-visible { opacity: 1; transform: translateY(0); }
        .nav-link { color: var(--thelo-text); transition: color 0.2s; }
        .nav-link:hover { color: var(--thelo-blue); }
        .lang-btn {
            cursor: pointer;
            font-weight: 600;
            color: #6B7280; /* slate-500 */
            transition: color 0.2s;
        }
        .lang-btn:hover { color: var(--thelo-blue); }
        .lang-btn.active {
            color: var(--thelo-blue);
            font-weight: 800;
            pointer-events: none;
        }
        .window-container {
            position: relative;
            background-color: white;
            border: 1px solid var(--grid-color);
            border-radius: 0.75rem;
            padding: 2.5rem;
        }
        .window-container::before {
            content: ' ';
            position: absolute;
            top: 1rem;
            left: 1rem;
            width: 52px;
            height: 12px;
            background-image: url("data:image/svg+xml,%3Csvg width='52' height='12' viewBox='0 0 52 12' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='6' cy='6' r='6' fill='%23FF5F56'/%3E%3Ccircle cx='26' cy='6' r='6' fill='%23FFBD2E'/%3E%3Ccircle cx='46' cy='6' r='6' fill='%2327C93F'/%3E%3C/svg%3E%0A");
            background-repeat: no-repeat;
        }
        #replay-feedback { 
            transform: translate(-50%, 49px);
            max-width: 90%; /* prevent extreme squeezing on small screens */
            box-sizing: border-box;
        }
    </style>
</head>

<body class="antialiased">

<nav id="mainNav" class="w-full z-50 border-b border-slate-200 backdrop-blur-sm bg-transparent sticky top-0">
    <div class="mx-auto flex max-w-7xl items-center justify-between px-6 py-3 lg:px-8">
        <a href="/" class="flex items-center gap-2">
            <img src="https://thelo.space/img/bluethelo.svg" alt="thelo logo" class="h-9 w-auto" />
        </a>
        <ul class="hidden gap-8 md:flex">
            <li><a href="#why" class="nav-link font-semibold" data-i18n="navWhy"></a></li>
            <li><a href="#thelopad" class="nav-link font-semibold" data-i18n="navThelopad"></a></li>
            <li><a href="https://thelo.space/auth" class="nav-link font-semibold" data-i18n="navAuth"></a></li>
            <li><a href="#contact" class="nav-link font-semibold" data-i18n="navContact"></a></li>
        </ul>
        <div class="flex items-center gap-4">
             <div class="flex items-center gap-2 text-sm">
                <span id="lang-en" class="lang-btn">EN</span>
                <span class="text-slate-300">|</span>
                <span id="lang-hy" class="lang-btn">HY</span>
            </div>
            <button id="mobileMenuButton" class="md:hidden rounded-md p-2 text-slate-600 hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-[var(--thelo-blue)]/50">
                <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                </svg>
            </button>
        </div>
    </div>
    <div id="mobileMenu" class="hidden md:hidden">
        <ul class="bg-white border-t border-slate-200 px-4 pt-2 pb-4">
            <li><a href="#why" class="block py-2 nav-link font-semibold" data-i18n="navWhy"></a></li>
            <li><a href="#thelopad" class="block py-2 nav-link font-semibold" data-i18n="navThelopad"></a></li>
            <li><a href="https://thelo.space/auth" class="block py-2 nav-link font-semibold" data-i18n="navAuth"></a></li>
            <li><a href="#contact" class="block py-2 nav-link font-semibold" data-i18n="navContact"></a></li>
            <li><a href="https://thelo.space/satmathteam/" class="nav-link font-semibold" data-i18n="navJoin"></a></li>
        </ul>
    </div>
</nav>

    <header class="relative overflow-hidden pt-16 pb-24 lg:pt-24 lg:pb-32">
        <div class="mx-auto max-w-7xl px-6 lg:px-8">
            <div class="grid max-w-2xl grid-cols-1 gap-x-12 gap-y-16 lg:max-w-none lg:grid-cols-2">
                <div class="anim-target">
                    <h1 class="text-6xl font-extrabold tracking-tighter text-[var(--thelo-text)] sm:text-7xl" data-i18n="heroTitle"> </h1>
                </div>
                <div class="anim-target flex flex-col justify-center" style="transition-delay: 0.1s;">
                    <p class="text-lg font-semibold" data-i18n="heroP1"></p>
                    <p class="mt-4 text-lg text-slate-600" data-i18n="heroP2"></p>
                    <p class="text-lg text-slate-600" data-i18n="heroP3"></p>
                </div>
            </div>
        </div>
    </header>

<section id="why" class="py-24 sm:py-32">
    <div class="mx-auto max-w-7xl px-6 lg:px-8">
        <div class="mx-auto max-w-3xl text-center anim-target">
            <h2 class="text-4xl font-extrabold text-[var(--thelo-text)] sm:text-5xl" data-i18n="whyTitle"></h2>
        </div>
        <div class="mt-16 window-container anim-target" style="transition-delay: 0.2s;">
            <div class="grid grid-cols-1 gap-12 text-center md:grid-cols-3 md:text-left pt-8">
                <div>
                    <h3 class="text-xl font-bold text-[var(--thelo-text)]" data-i18n="why1h"></h3>
                    <p class="mt-2 text-slate-600" data-i18n="why1p"></p>
                </div>
                <div>
                    <h3 class="text-xl font-bold text-[var(--thelo-text)]" data-i18n="why2h"></h3>
                    <p class="mt-2 text-slate-600" data-i18n="why2p"></p>
                </div>
                <div>
                    <h3 class="text-xl font-bold text-[var(--thelo-text)]" data-i18n="why3h"></h3>
                    <p class="mt-2 text-slate-600" data-i18n="why3p"></p>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="thelopad" class="py-24 sm:py-32">
    <div class="mx-auto max-w-7xl px-6 lg:px-8">
        <div class="grid grid-cols-1 gap-x-16 gap-y-10 lg:grid-cols-2">
            <div class="flex flex-col justify-center anim-target">
                <h2 class="text-4xl font-extrabold text-[var(--thelo-text)] sm:text-5xl" data-i18n="thelopadTitle"></h2>
                <div class="mt-4 inline-block rounded-full bg-[var(--thelo-blue)] px-4 py-1.5 text-lg font-bold text-white w-fit" data-i18n="thelopadTag"></div>
                <p class="mt-8 text-slate-600 text-lg" data-i18n="thelopadSub"></p>
            </div>
            <div class="anim-target" style="transition-delay: 0.2s;">
                <img id="laptopImage" src="https://thelo.space/img/theloLaptopEn.png" alt="A mockup of the thelopad tablet and a laptop showing thelo's interface" class="w-full h-auto object-contain">
            </div>
        </div>
    </div>
</section>
<section id="drawing-replay" class="pt-24 pb-16 sm:pt-32 sm:pb-20">
    <div class="mx-auto max-w-7xl px-6 lg:px-8">
        <div class="relative w-full aspect-video">
            <canvas id="replayCanvas" class="absolute top-0 left-0 w-full h-full bg-transparent"></canvas>
            <div id="replay-feedback" class="absolute opacity-0 transition-opacity duration-700 ease-out pointer-events-none">
                <div class="max-w-md p-4 bg-white/70 backdrop-blur-sm border border-slate-200 rounded-2xl shadow-md pointer-events-auto">
                    <p class="font-semibold text-slate-800" data-i18n="replayFeedback"></p>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="contact" class="py-24 sm:py-32">
    <div class="mx-auto max-w-4xl px-6 text-center">
        <div class="anim-target">
            <h2 class="text-4xl font-extrabold text-[var(--thelo-text)] sm:text-5xl" data-i18n="contactTitle"></h2>
            <p class="mt-6 text-lg text-slate-600" data-i18n="contactSub"></p>
        </div>
        <div class="anim-target mt-8 text-slate-600" style="transition-delay: 0.1s;">
            <p class="mb-4" data-i18n="contactAlt"></p>
            <div class="flex flex-col sm:flex-row justify-center items-center gap-4 sm:gap-8">
                <a href="mailto:aramasatryan290@gmail.com" class="font-semibold flex items-center gap-2 hover:text-[var(--thelo-blue)] transition-colors">
                    <i class="fas fa-envelope fa-fw"></i> <span>aramasatryan290@gmail.com</span>
                </a>
                <a href="tel:+37477411798" class="font-semibold flex items-center gap-2 hover:text-[var(--thelo-blue)] transition-colors">
                    <i class="fas fa-phone fa-fw"></i> <span data-i18n="contactPhone"></span>
                </a>
            </div>
        </div>
        <div class="calendly-inline-widget anim-target mt-12" data-url="https://calendly.com/aramasatryan290/30min" style="min-width:320px; height:700px; transition-delay: 0.2s;"> </div>
        <script type="text/javascript" src="https://assets.calendly.com/assets/external/widget.js" async></script>
    </div>
</section>

<footer class="py-10 text-center text-sm text-slate-500">
    <p data-i18n="footer"></p>
</footer>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";

    document.addEventListener('DOMContentLoaded', () => {

        let currentUser = null;

        const strings = {
            en: {
                title: 'thelo',
                navWhy: 'Why thelo?',
                navThelopad: 'How It Works',
                navAuth: 'Log in',
                navDash: 'Dashboard',
                navContact: 'Contact',
                navJoin: 'Join',
                heroTitle: 'Weaving <br><span class="text-[var(--thelo-blue)]">Education.</span>',
                heroP1: 'thelo merges the intuitive act of handwriting with the power of a personal AI tutor.',
                heroP2: 'Using our unique tablet setup, your handwriting is instantly digitized and analyzed, providing you with real-time, step-by-step guidance.',
                heroP3: 'Itâ€™s the most intuitive way to master math.',
                whyTitle: 'The Best of Both Worlds',
                why1h: 'Feels Like Writing on Paper',
                why1p: 'Our unique setup uses an LCD tablet layered on a drawing tablet, providing a natural, pen-on-surface experience. No more writing on glassâ€”just smooth, tactile feedback.',
                why2h: 'Instant AI Analysis',
                why2p: 'As you write, our AI analyzes your work, providing hints and feedback just like a real tutor would. No waiting, no scanning.',
                why3h: 'Everything is Digital',
                why3p: 'Your entire session, including every stroke and all AI feedback, is saved digitally. Review your progress anytime, anywhere, without carrying a single notebook.',
                thelopadTitle: 'How Does It Work?',
                thelopadTag: 'Simple & Intuitive',
                thelopadSub: 'Students use a standard, low-cost drawing tablet paired with a simple LCD writing screen. As you write with the stylus, your strokes are captured by the drawing tablet underneath and instantly appear on your connected computer screen for analysis. Itâ€™s a seamless bridge between tactile writing and powerful digital feedback.',
                replayFeedback: 'That is the correct formula. Great work! ðŸŽ‰',
                contactTitle: 'Contact Aram',
                contactSub: 'I am actively seeking partners, mentors, and institutions to help grow thelo. The best way to connect is to schedule a 30-minute call directly in my calendar below. I look forward to speaking with you.',
                contactAlt: 'Or, contact me directly:',
                contactPhone: '+374 77 411 798',
                footer: 'Â© 2025 thelo',
                laptopImageSrc: 'https://thelo.space/img/theloLaptopEn.png'
            },
            hy: {
                title: 'thelo',
                navWhy: 'Ô»Õ¶Õ¹Õ¸Ö‚Õž thelo',
                navThelopad: 'Ô»Õ¶Õ¹ÕºÕ¥ÕžÕ½ Õ§ Õ¡Õ·Õ­Õ¡Õ¿Õ¸Ö‚Õ´',
                navAuth: 'Õ„Õ¸Ö‚Õ¿Ö„',
                navDash: 'ÕŽÕ¡Õ°Õ¡Õ¶Õ¡Õ¯',
                navContact: 'Ô¿Õ¡Õº',
                navJoin: 'Õ„Õ«Õ¡Õ¶Õ¡Õ¬',
                heroTitle: 'Õ€ÕµÕ¸Ö‚Õ½Õ¥Õ¬Õ¸Õ¾ <br><span class="text-[var(--thelo-blue)]">Ô¿Ö€Õ©Õ¸Ö‚Õ©ÕµÕ¸Ö‚Õ¶Ö‰</span>',
                heroP1: 'thelo-Õ¶ Õ°Õ¡Õ´Õ¡Õ¿Õ¥Õ²Õ¸Ö‚Õ´ Õ§ Õ±Õ¥Õ¼Õ¡Õ£Ö€Õ« Õ«Õ¶Õ¿Õ¸Ö‚Õ«Õ¿Õ«Õ¾ Õ£Õ¸Ö€Õ®Õ¸Õ²Õ¸Ö‚Õ©ÕµÕ¸Ö‚Õ¶Õ¨ Õ¡Õ¶Õ±Õ¶Õ¡Õ¯Õ¡Õ¶ AI Õ¯Ö€Õ¯Õ¶Õ¸Ö‚Õ½Õ¸Ö‚ÕµÖÕ« Õ°Õ¦Õ¸Ö€Õ¸Ö‚Õ©ÕµÕ¡Õ¶ Õ°Õ¥Õ¿Ö‰',
                heroP2: 'Õ„Õ¥Ö€ ÕµÕ¸Ö‚Ö€Õ¡Õ°Õ¡Õ¿Õ¸Ö‚Õ¯ ÕºÕ¬Õ¡Õ¶Õ·Õ¥Õ¿Õ« Õ´Õ«Õ»Õ¸ÖÕ¸Õ¾ Õ±Õ¥Ö€ Õ±Õ¥Õ¼Õ¡Õ£Õ«Ö€Õ¶ Õ¡Õ¶Õ´Õ«Õ»Õ¡ÕºÕ¥Õ½ Õ©Õ¾Õ¡ÕµÕ¶Õ¡ÖÕ¾Õ¸Ö‚Õ´ Ö‡ Õ¾Õ¥Ö€Õ¬Õ¸Ö‚Õ®Õ¾Õ¸Ö‚Õ´ Õ§Õ Õ¿Ö€Õ¡Õ´Õ¡Õ¤Ö€Õ¥Õ¬Õ¸Õ¾ Õ±Õ¥Õ¦ Õ«Ö€Õ¡Õ¯Õ¡Õ¶ ÕªÕ¡Õ´Õ¡Õ¶Õ¡Õ¯Õ¸Ö‚Õ´ Ö„Õ¡ÕµÕ¬ Õ¡Õ¼ Ö„Õ¡ÕµÕ¬ Õ¸Ö‚Õ²Õ²Õ¸Ö€Õ¤Õ¸Ö‚Õ´Ö‰',
                heroP3: 'ÕÕ¡ Õ´Õ¡Õ©Õ¥Õ´Õ¡Õ¿Õ«Õ¯Õ¡Õ¶ Õ¿Õ«Ö€Õ¡ÕºÕ¥Õ¿Õ¥Õ¬Õ¸Ö‚ Õ¡Õ´Õ¥Õ¶Õ¡Õ«Õ¶Õ¿Õ¸Ö‚Õ«Õ¿Õ«Õ¾ Õ´Õ«Õ»Õ¸ÖÕ¶ Õ§Ö‰',
                whyTitle: 'ÔµÖ€Õ¯Õ¸Ö‚ Õ¡Õ·Õ­Õ¡Ö€Õ°Õ¶Õ¥Ö€Õ« Õ¬Õ¡Õ¾Õ¡Õ£Õ¸Ö‚ÕµÕ¶Õ¨',
                why1h: 'Ô¹Õ²Õ©Õ« Õ¾Ö€Õ¡ Õ£Ö€Õ¥Õ¬Õ¸Ö‚ Õ¦Õ£Õ¡ÖÕ¸Õ²Õ¸Ö‚Õ©ÕµÕ¸Ö‚Õ¶',
                why1p: 'Õ„Õ¥Ö€ ÕµÕ¸Ö‚Ö€Õ¡Õ°Õ¡Õ¿Õ¸Ö‚Õ¯ Õ°Õ¡Õ´Õ¡Õ¯Õ¡Ö€Õ£Õ¨ Ö…Õ£Õ¿Õ¡Õ£Õ¸Ö€Õ®Õ¸Ö‚Õ´ Õ§ Õ£Ö€Õ¡Ö†Õ«Õ¯Õ¡Õ¯Õ¡Õ¶ ÕºÕ¬Õ¡Õ¶Õ·Õ¥Õ¿Õ« Õ¾Ö€Õ¡ Õ¿Õ¥Õ²Õ¡Õ¤Ö€Õ¾Õ¡Õ® LCD Õ§Õ¯Ö€Õ¡Õ¶Õ Õ¡ÕºÕ¡Õ°Õ¸Õ¾Õ¥Õ¬Õ¸Õ¾ Õ£Ö€Õ«Õ¹Õ« Õ¢Õ¶Õ¡Õ¯Õ¡Õ¶ Õ·ÖƒÕ¸Ö‚Õ´Õ¨ Õ´Õ¡Õ¯Õ¥Ö€Õ¥Õ½Õ« Õ°Õ¥Õ¿Ö‰ Ô±ÕµÕ¬Ö‡Õ½ Õ½Õ¡ÕµÕ©Õ¡Ö„Õ¸Ö‚Õ¶ Õ¡ÕºÕ¡Õ¯Õ¸Ö‚ Õ¾Ö€Õ¡ Õ£Ö€Õ¥Õ¬Õ¸Ö‚ Õ¯Õ¡Ö€Õ«Ö„ Õ¹Õ¯Õ¡Ö‰',
                why2h: 'Ô±Õ¯Õ¶Õ©Õ¡Ö€Õ©Õ¡ÕµÕ«Õ¶ AI Õ¾Õ¥Ö€Õ¬Õ¸Ö‚Õ®Õ¸Ö‚Õ©ÕµÕ¸Ö‚Õ¶',
                why2p: 'ÔµÖ€Õ¢ Õ¤Õ¸Ö‚Ö„ Õ£Ö€Õ¸Ö‚Õ´ Õ¥Ö„, Õ´Õ¥Ö€ AI-Õ¶ Õ¾Õ¥Ö€Õ¬Õ¸Ö‚Õ®Õ¸Ö‚Õ´ Õ§ Õ±Õ¥Ö€ Õ¡Õ·Õ­Õ¡Õ¿Õ¡Õ¶Ö„Õ¨Õ Õ¿Õ¡Õ¬Õ¸Õ¾ Õ°Õ¸Ö‚Õ·Õ¸Ö‚Õ´Õ¶Õ¥Ö€ Ö‡ Õ°Õ¥Õ¿Õ¡Õ¤Õ¡Ö€Õ± Õ¯Õ¡Õº, Õ«Õ¶Õ¹ÕºÕ¥Õ½ Õ«Õ½Õ¯Õ¡Õ¯Õ¡Õ¶ Õ¯Ö€Õ¯Õ¶Õ¸Ö‚Õ½Õ¸Ö‚ÕµÖÕ¨Ö‰ Ô±Õ¼Õ¡Õ¶Ö Õ½ÕºÕ¡Õ½Õ¥Õ¬Õ¸Ö‚, Õ¡Õ¼Õ¡Õ¶Ö Õ½Õ¯Õ¡Õ¶Õ¡Õ¾Õ¸Ö€Õ¥Õ¬Õ¸Ö‚Ö‰',
                why3h: 'Ô±Õ´Õ¥Õ¶ Õ«Õ¶Õ¹ Õ©Õ¾Õ¡ÕµÕ«Õ¶ Õ§',
                why3p: 'ÕÕ¥Ö€ Õ¡Õ´Õ¢Õ¸Õ²Õ» Õ¡Õ·Õ­Õ¡Õ¿Õ¡Õ¶Ö„Õ¨, Õ¶Õ¥Ö€Õ¡Õ¼ÕµÕ¡Õ¬ ÕµÕ¸Ö‚Ö€Õ¡Ö„Õ¡Õ¶Õ¹ÕµÕ¸Ö‚Ö€ Õ£Õ«Õ® Ö‡ AI-Õ« Õ¸Õ²Õ» Õ°Õ¥Õ¿Õ¡Õ¤Õ¡Ö€Õ± Õ¯Õ¡ÕºÕ¨, ÕºÕ¡Õ°ÕºÕ¡Õ¶Õ¾Õ¸Ö‚Õ´ Õ§ Õ©Õ¾Õ¡ÕµÕ«Õ¶ Õ¿Õ¡Ö€Õ¢Õ¥Ö€Õ¡Õ¯Õ¸Õ¾Ö‰ ÕŽÕ¥Ö€Õ¡Õ¶Õ¡ÕµÕ¥Ö„ Õ±Õ¥Ö€ Õ¡Õ¼Õ¡Õ»Õ¨Õ¶Õ©Õ¡ÖÕ¨ ÖÕ¡Õ¶Õ¯Õ¡ÖÕ¡Õ® ÕºÕ¡Õ°Õ«, ÖÕ¡Õ¶Õ¯Õ¡ÖÕ¡Õ® Õ¾Õ¡ÕµÖ€Õ¸Ö‚Õ´Ö‰',
                thelopadTitle: 'Ô»Õ¶Õ¹ÕºÕ¥ÕžÕ½ Õ§ Õ¡ÕµÕ¶ Õ¡Õ·Õ­Õ¡Õ¿Õ¸Ö‚Õ´',
                thelopadTag: 'ÕŠÕ¡Ö€Õ¦ Ö‡ Õ«Õ¶Õ¿Õ¸Ö‚Õ«Õ¿Õ«Õ¾',
                thelopadSub: 'ÕˆÖ‚Õ½Õ¡Õ¶Õ¸Õ²Õ¶Õ¥Ö€Õ¶ Ö…Õ£Õ¿Õ¡Õ£Õ¸Ö€Õ®Õ¸Ö‚Õ´ Õ¥Õ¶ Õ½Õ¿Õ¡Õ¶Õ¤Õ¡Ö€Õ¿, Õ§ÕªÕ¡Õ¶ Õ£Ö€Õ¡Ö†Õ«Õ¯Õ¡Õ¯Õ¡Õ¶ ÕºÕ¬Õ¡Õ¶Õ·Õ¥Õ¿Õ Õ¦Õ¸Ö‚Õ£Õ¡Õ¯ÖÕ¾Õ¡Õ® ÕºÕ¡Ö€Õ¦ LCD Õ£Ö€Õ¡Õ¼Õ´Õ¡Õ¶ Õ§Õ¯Ö€Õ¡Õ¶Õ« Õ°Õ¥Õ¿Ö‰ ÔµÖ€Õ¢ Õ¤Õ¸Ö‚Ö„ Õ£Ö€Õ¸Ö‚Õ´ Õ¥Ö„ Õ½Õ¿Õ«Õ¬Õ¸Ö‚Õ½Õ¸Õ¾, Õ±Õ¥Ö€ Õ£Õ®Õ¥Ö€Õ¨ Ö†Õ«Ö„Õ½Õ¾Õ¸Ö‚Õ´ Õ¥Õ¶ Ö‡ Õ¡Õ¶Õ´Õ«Õ»Õ¡ÕºÕ¥Õ½ Õ°Õ¡ÕµÕ¿Õ¶Õ¾Õ¸Ö‚Õ´ Õ±Õ¥Ö€ Õ°Õ¡Õ´Õ¡Õ¯Õ¡Ö€Õ£Õ¹Õ« Õ§Õ¯Ö€Õ¡Õ¶Õ«Õ¶Õ Õ¾Õ¥Ö€Õ¬Õ¸Ö‚Õ®Õ¸Ö‚Õ©ÕµÕ¡Õ¶ Õ°Õ¡Õ´Õ¡Ö€Ö‰',
                replayFeedback: 'ÕƒÕ«Õ·Õ¿ Õ¢Õ¡Õ¶Õ¡Õ±Ö‡ Õ§Ö‰ Õ€Õ«Õ¡Õ¶Õ¡Õ¬Õ« Õ¡Õ·Õ­Õ¡Õ¿Õ¡Õ¶Ö„ Õ§Ö‰ ðŸŽ‰',
                contactTitle: 'Ô¿Õ¡Õº Ô±Ö€Õ¡Õ´Õ« Õ°Õ¥Õ¿',
                contactSub: 'ÔµÕ½ Õ¡Õ¯Õ¿Õ«Õ¾Õ¸Ö€Õ¥Õ¶ ÖƒÕ¶Õ¿Ö€Õ¸Ö‚Õ´ Õ¥Õ´ Õ£Õ¸Ö€Õ®Õ¨Õ¶Õ¯Õ¥Ö€Õ¶Õ¥Ö€, Õ´Õ¥Õ¶Õ©Õ¸Ö€Õ¶Õ¥Ö€ Ö‡ Õ°Õ¡Õ½Õ¿Õ¡Õ¿Õ¸Ö‚Õ©ÕµÕ¸Ö‚Õ¶Õ¶Õ¥Ö€, Õ¸Ö€Õ¸Õ¶Ö„ Õ¯Ö…Õ£Õ¶Õ¥Õ¶ Õ¦Õ¡Ö€Õ£Õ¡ÖÕ¶Õ¥Õ¬ thelo-Õ¶Ö‰ Ô¿Õ¡Õº Õ°Õ¡Õ½Õ¿Õ¡Õ¿Õ¥Õ¬Õ¸Ö‚ Õ¬Õ¡Õ¾Õ¡Õ£Õ¸Ö‚ÕµÕ¶ Õ´Õ«Õ»Õ¸ÖÕ¨ 30 Ö€Õ¸ÕºÕ¥Õ¡Õ¶Õ¸Ö Õ¦Õ¡Õ¶Õ£ ÕºÕ¬Õ¡Õ¶Õ¡Õ¾Õ¸Ö€Õ¥Õ¬Õ¶ Õ§Ö‰',
                contactAlt: 'Ô¿Õ¡Õ´, Õ¯Õ¡ÕºÕ¾Õ¥Ö„ Õ«Õ¶Õ± Õ°Õ¥Õ¿ Õ¸Ö‚Õ²Õ²Õ¡Õ¯Õ«Õ¸Ö€Õ¥Õ¶Ö‰',
                contactPhone: '+374 77 411 798',
                footer: 'Â© 2025 thelo',
                laptopImageSrc: 'https://thelo.space/img/theloLaptopHy.png'
            }
        };

        let currentLang = localStorage.getItem('thelo-lang') || 'en';

        const laptopImage = document.getElementById('laptopImage');
        const langEnBtn = document.getElementById('lang-en');
        const langHyBtn = document.getElementById('lang-hy');

        function updateAuthUI(lang) {
            const T = strings[lang];
            const loginAnchors = document.querySelectorAll('[data-i18n="navAuth"]');
            
            loginAnchors.forEach(anchor => {
                if (currentUser) {
                    anchor.href = "/sdashboard";
                    anchor.textContent = T.navDash;
                } else {
                    anchor.href = "/auth";
                    anchor.textContent = T.navAuth;
                }
            });
        }

        function applyContent(lang) {
            const T = strings[lang];
            if (!T) return;

            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.dataset.i18n;
                if (key !== 'navAuth' && T[key]) {
                    el.innerHTML = T[key];
                }
            });
            
            laptopImage.src = T.laptopImageSrc;
            
            document.documentElement.lang = lang;
            
            langEnBtn.classList.toggle('active', lang === 'en');
            langHyBtn.classList.toggle('active', lang === 'hy');

            updateAuthUI(lang);
        }
        
        langEnBtn.addEventListener('click', () => {
            currentLang = 'en';
            localStorage.setItem('thelo-lang', currentLang);
            applyContent(currentLang);
        });

        langHyBtn.addEventListener('click', () => {
            currentLang = 'hy';
            localStorage.setItem('thelo-lang', currentLang);
            applyContent(currentLang);
        });

        const firebaseConfig = {
            apiKey: "AIzaSyAbnPpcIt88B0jIAoLUdC71zmQDvR_fdu8",
            authDomain: "physmathacademy-722b3.firebaseapp.com",
            projectId: "physmathacademy-722b3",
            storageBucket: "physmathacademy-722b3.appspot.com",
            appId: "1:1093640992262:web:35b1bf4d2364bcf745f587"
        };
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        onAuthStateChanged(auth, user => {
            currentUser = user;
            updateAuthUI(currentLang);
        });

        const mobileMenuButton = document.getElementById('mobileMenuButton');
        const mobileMenu = document.getElementById('mobileMenu');
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });
        document.querySelectorAll('#mobileMenu a').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.add('hidden');
            });
        });

        const animationObserver = new IntersectionObserver((entries) => entries.forEach(entry => {
            if(entry.isIntersecting){ entry.target.classList.add('is-visible'); animationObserver.unobserve(entry.target); }
        }), { threshold: 0.1 });
        document.querySelectorAll('.anim-target').forEach(el => animationObserver.observe(el));

        // Drawing Replay Logic
        const setupDrawingReplay = () => {
            const canvas = document.getElementById('replayCanvas');
            const feedbackEl = document.getElementById('replay-feedback');
            if (!canvas || !feedbackEl) return;
            const ctx = canvas.getContext('2d');
            let drawingData = null;
            let animationFrameId = null;
            const devicePixelRatio = window.devicePixelRatio || 1;
            const resizeCanvas = () => {
                const rect = canvas.getBoundingClientRect();
                canvas.width = rect.width * devicePixelRatio;
                canvas.height = rect.height * devicePixelRatio;
                ctx.scale(devicePixelRatio, devicePixelRatio);
                if (drawingData) {
                    renderDrawingAtTime(Infinity, drawingData, ctx);
                }
            };
            const renderDrawingAtTime = (targetTime, data, context) => {
                const canvasWidth = context.canvas.width / devicePixelRatio;
                const canvasHeight = context.canvas.height / devicePixelRatio;
                context.clearRect(0, 0, canvasWidth, canvasHeight);
                context.lineCap = 'round';
                context.lineJoin = 'round';
                data.strokes.forEach(stroke => {
                    const strokeStartTime = stroke.startTime || 0;
                    if (targetTime < strokeStartTime) return;
                    context.strokeStyle = stroke.color || '#2563EB';
                    context.lineWidth = stroke.lineWidth || 4;
                    context.beginPath();
                    let movedToFirstPoint = false;
                    for (let i = 0; i < stroke.points.length; i++) {
                        const point = stroke.points[i];
                        const pointTimeAbsolute = strokeStartTime + (point.timeOffset || 0);
                        if (pointTimeAbsolute > targetTime) break;
                        if (!movedToFirstPoint) {
                            context.moveTo(point.normX * canvasWidth, point.normY * canvasHeight);
                            movedToFirstPoint = true;
                        } else {
                            context.lineTo(point.normX * canvasWidth, point.normY * canvasHeight);
                        }
                    }
                    if (movedToFirstPoint) context.stroke();
                });
            };
            const startReplayAnimation = (data) => {
                if (animationFrameId) cancelAnimationFrame(animationFrameId);
                let startTime = 0;
                const totalDuration = data.strokes.reduce((max, s) => Math.max(max, s.endTime), 0);
                const animate = (timestamp) => {
                    if (!startTime) startTime = timestamp;
                    const elapsedTime = timestamp - startTime;
                    renderDrawingAtTime(elapsedTime, data, ctx);
                    if (elapsedTime < totalDuration) {
                        animationFrameId = requestAnimationFrame(animate);
                    } else {
                        renderDrawingAtTime(Infinity, data, ctx);
                        animationFrameId = null;
                        setTimeout(() => {
                            try {
                                // ** MOBILE FEEDBACK FIX STARTS HERE **
                                if (window.innerWidth < 768) {
                                    // On mobile, center the feedback box in the canvas
                                    feedbackEl.style.left = '50%';
                                    feedbackEl.style.top = '50%';
                                    feedbackEl.style.transform = 'translate(-50%, -50%)';
                                } else {
                                    // On desktop, position near the last drawn point
                                    const container = canvas.parentElement;
                                    const rect = container.getBoundingClientRect();
                                    const lastStroke = data.strokes.reduce((a, b) => (a.endTime > b.endTime ? a : b));
                                    const lastPt = lastStroke.points[lastStroke.points.length - 1];
                                    const xPx = lastPt.normX * rect.width;
                                    const yPx = lastPt.normY * rect.height;
                                    feedbackEl.style.left = `${xPx}px`;
                                    feedbackEl.style.top = `${yPx}px`;
                                    feedbackEl.style.transform = ''; // Let the CSS rule apply
                                }
                                feedbackEl.style.right = 'auto';
                                feedbackEl.style.bottom = 'auto';
                                feedbackEl.classList.remove('opacity-0');
                                feedbackEl.classList.add('opacity-100');
                                // ** MOBILE FEEDBACK FIX ENDS HERE **
                            } catch (e) { 
                                console.error('Could not place feedback:', e); 
                                // Fallback positioning
                                feedbackEl.style.left = '50%';
                                feedbackEl.style.top = '50%';
                                feedbackEl.style.transform = 'translate(-50%, -50%)';
                                feedbackEl.classList.remove('opacity-0');
                                feedbackEl.classList.add('opacity-100');
                            }
                        }, 500);
                    }
                };
                animationFrameId = requestAnimationFrame(animate);
            };
            const replayObserver = new IntersectionObserver(async (entries, observer) => {
                if (entries[0].isIntersecting) {
                    try {
                        const response = await fetch('https://thelo.space/lessons/drawings/main.json');
                        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                        drawingData = await response.json();
                        resizeCanvas();
                        startReplayAnimation(drawingData);
                        observer.unobserve(canvas);
                    } catch (error) { console.error('Failed to load drawing data:', error); }
                }
            }, { threshold: 0.4 }); 
            replayObserver.observe(canvas);
            window.addEventListener('resize', resizeCanvas);
        };

        // Initial Load
        applyContent(currentLang);
        setupDrawingReplay();
    });
</script>

</body>
</html>
