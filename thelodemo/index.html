<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title data-i18n="title">thelo</title>
    <link rel="icon" href="https://thelo.space/img/thelofavicon.png" type="image/png" />
    <link rel="apple-touch-icon" href="https://thelo.space/img/yarnicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;700;800&display=swap" rel="stylesheet">

    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

    <style>
        :root {
            --thelo-blue: #2563EB;
            --thelo-bg: #F8F9FA;
            --thelo-text: #111827;
            --grid-color: #E5E7EB;
        }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Manrope', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            background-color: var(--thelo-bg);
            color: var(--thelo-text);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            background-image:
                linear-gradient(to right, var(--grid-color) 1px, transparent 1px),
                linear-gradient(to bottom, var(--grid-color) 1px, transparent 1px);
            background-size: 40px 40px;
        }
        h1, h2, h3, h4, h5, h6 { font-weight: 800; }
        .anim-target {
            opacity: 0;
            transition: opacity 0.7s cubic-bezier(0.215, 0.610, 0.355, 1), transform 0.7s cubic-bezier(0.215, 0.610, 0.355, 1);
            transform: translateY(20px);
        }
        .anim-target.is-visible { opacity: 1; transform: translateY(0); }
        .nav-link { color: var(--thelo-text); transition: color 0.2s; }
        .nav-link:hover { color: var(--thelo-blue); }
        .window-container {
            position: relative;
            background-color: white;
            border: 1px solid var(--grid-color);
            border-radius: 0.75rem;
            padding: 2.5rem;
        }
        .window-container::before {
            content: ' ';
            position: absolute;
            top: 1rem;
            left: 1rem;
            width: 52px;
            height: 12px;
            background-image: url("data:image/svg+xml,%3Csvg width='52' height='12' viewBox='0 0 52 12' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='6' cy='6' r='6' fill='%23FF5F56'/%3E%3Ccircle cx='26' cy='6' r='6' fill='%23FFBD2E'/%3E%3Ccircle cx='46' cy='6' r='6' fill='%2327C93F'/%3E%3C/svg%3E%0A");
            background-repeat: no-repeat;
        }
        #replay-feedback { transform: translate(-50%, 12px); }
    </style>
</head>

<body class="antialiased">

<nav id="mainNav" class="w-full z-50 border-b border-slate-200 backdrop-blur-sm bg-transparent sticky top-0">
    <div class="mx-auto flex max-w-7xl items-center justify-between px-6 py-3 lg:px-8">
        <a href="/" class="flex items-center gap-2">
            <img src="https://thelo.space/img/bluethelo.svg" alt="thelo logo" class="h-9 w-auto" />
        </a>
        <ul class="hidden gap-8 md:flex">
            <li><a href="#why" class="nav-link font-semibold" data-i18n="navWhy">Why thelo?</a></li>
            <li><a href="#thelopad" class="nav-link font-semibold" data-i18n="navThelopad">How It Works</a></li>
            <li><a href="https://thelo.space/auth" class="nav-link font-semibold" data-i18n="navAuth">Log in</a></li>
            <li><a href="#contact" class="nav-link font-semibold" data-i18n="navContact">Contact</a></li>
        </ul>
        <div class="flex items-center gap-4">
            <button id="mobileMenuButton" class="md:hidden rounded-md p-2 text-slate-600 hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-[var(--thelo-blue)]/50">
                <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                </svg>
            </button>
        </div>
    </div>
    <div id="mobileMenu" class="hidden md:hidden">
        <ul class="bg-white border-t border-slate-200 px-4 pt-2 pb-4">
            <li><a href="#why" class="block py-2 nav-link font-semibold" data-i18n="navWhy">Why thelo?</a></li>
            <li><a href="#thelopad" class="block py-2 nav-link font-semibold" data-i18n="navThelopad">How It Works</a></li>
            <li><a href="https://thelo.space/auth" class="block py-2 nav-link font-semibold" data-i18n="navAuth">Log in</a></li>
            <li><a href="#contact" class="block py-2 nav-link font-semibold" data-i18n="navContact">Contact</a></li>
            <li><a href="https://thelo.space/satmathteam/" class="nav-link font-semibold" data-i18n="navJoin">Join</a></li>
        </ul>
    </div>
</nav>

    <header class="relative overflow-hidden pt-16 pb-24 lg:pt-24 lg:pb-32">
        <div class="mx-auto max-w-7xl px-6 lg:px-8">
            <div class="grid max-w-2xl grid-cols-1 gap-x-12 gap-y-16 lg:max-w-none lg:grid-cols-2">
                <div class="anim-target">
                    <h1 class="text-6xl font-extrabold tracking-tighter text-[var(--thelo-text)] sm:text-7xl" data-i18n="heroTitle">Weaving <br><span class="text-[var(--thelo-blue)]">Education.</span></h1>
                </div>
                <div class="anim-target flex flex-col justify-center" style="transition-delay: 0.1s;">
                    <p class="text-lg font-semibold" data-i18n="heroP1">thelo merges the natural feel of pencil on paper with the power of a personal AI tutor.</p>
                    <p class="mt-4 text-lg text-slate-600" data-i18n="heroP2">Write your solutions in a normal notebook placed on our tablet. thelo digitizes your work instantly and guides you, step-by-step.</p>
                    <p class="text-lg text-slate-600" data-i18n="heroP3">It’s the most intuitive way to master math.</p>
                </div>
            </div>
        </div>
    </header>

<section id="why" class="py-24 sm:py-32">
    <div class="mx-auto max-w-7xl px-6 lg:px-8">
        <div class="mx-auto max-w-3xl text-center anim-target">
            <h2 class="text-4xl font-extrabold text-[var(--thelo-text)] sm:text-5xl" data-i18n="whyTitle">The Best of Both Worlds</h2>
        </div>
        <div class="mt-16 window-container anim-target" style="transition-delay: 0.2s;">
            <div class="grid grid-cols-1 gap-12 text-center md:grid-cols-3 md:text-left pt-8">
                <div>
                    <h3 class="text-xl font-bold text-[var(--thelo-text)]" data-i18n="why1h">Write on Real Paper</h3>
                    <p class="mt-2 text-slate-600" data-i18n="why1p">No more slippery screens. Get the tactile feedback of writing on paper, which is proven to improve retention and understanding.</p>
                </div>
                <div>
                    <h3 class="text-xl font-bold text-[var(--thelo-text)]" data-i18n="why2h">Instant AI Analysis</h3>
                    <p class="mt-2 text-slate-600" data-i18n="why2p">As you write, our AI analyzes your work, providing hints and feedback just like a real tutor would. No waiting, no scanning.</p>
                </div>
                <div>
                    <h3 class="text-xl font-bold text-[var(--thelo-text)]" data-i18n="why3h">Keep Your Notes</h3>
                    <p class="mt-2 text-slate-600" data-i18n="why3p">At the end of a session, you have a physical copy of your work in your notebook, and a digital record of your progress in the cloud.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="thelopad" class="py-24 sm:py-32">
    <div class="mx-auto max-w-7xl px-6 lg:px-8">
        <div class="grid grid-cols-1 gap-x-16 gap-y-10 lg:grid-cols-2">
            <div class="flex flex-col justify-center anim-target">
                <h2 class="text-4xl font-extrabold text-[var(--thelo-text)] sm:text-5xl" data-i18n="thelopadTitle">How Does It Work?</h2>
                <div class="mt-4 inline-block rounded-full bg-[var(--thelo-blue)] px-4 py-1.5 text-lg font-bold text-white w-fit" data-i18n="thelopadTag">Simple & Intuitive</div>
                <p class="mt-8 text-slate-600 text-lg" data-i18n="thelopadSub">Our system uses a standard drawing tablet and a special stylus with a graphite tip. You simply place your own paper on the tablet and start writing. The tablet captures the position of your pen, while the graphite leaves a real mark on your paper. It’s a seamless bridge between the physical and digital, requiring no new skills to learn.</p>
            </div>
            <div class="anim-target" style="transition-delay: 0.2s;">
                <img src="https://thelo.space/img/theloLaptop.png" alt="A mockup of the thelopad tablet and a laptop showing thelo's interface" class="w-full h-auto object-contain">
            </div>
        </div>
    </div>
</section>

<section id="demo-video" class="py-24 sm:py-32">
    <div class="mx-auto max-w-7xl px-6 lg:px-8">
        <div class="mx-auto max-w-3xl text-center anim-target">
            <h2 class="text-4xl font-extrabold text-[var(--thelo-text)] sm:text-5xl">See It in Action</h2>
            <p class="mt-6 text-lg text-slate-600">Watch a short demo to see how thelo seamlessly blends physical note-taking with digital intelligence.</p>
        </div>
        <div class="mt-16 anim-target" style="transition-delay: 0.2s;">
            <div class="relative mx-auto max-w-4xl shadow-2xl rounded-lg overflow-hidden border border-slate-200" style="padding-top: 40.5%;">
                <iframe 
                    class="absolute top-0 left-0 w-full h-full"
                    src="https://www.youtube.com/embed/2RaxZIvX9GQ?vq=hd1080" 
                    title="YouTube video player" 
                    frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                    allowfullscreen>
                </iframe>
            </div>
        </div>
    </div>
</section><section id="drawing-replay" class="pt-24 pb-16 sm:pt-32 sm:pb-20 hidden md:block">

    <div class="mx-auto max-w-7xl px-6 lg:px-8">
        <div class="relative w-full aspect-video">
            <canvas id="replayCanvas" class="absolute top-0 left-0 w-full h-full bg-transparent"></canvas>

            <div id="replay-feedback" class="absolute opacity-0 transition-opacity duration-700 ease-out pointer-events-none">
                <div class="max-w-md p-4 bg-white/70 backdrop-blur-sm border border-slate-200 rounded-2xl shadow-md pointer-events-auto">
                    <p class="font-semibold text-slate-800">That is the correct formula. Great work! 🎉</p>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="contact" class="py-24 sm:py-32">
    <div class="mx-auto max-w-4xl px-6 text-center">
        <div class="anim-target">
            <h2 class="text-4xl font-extrabold text-[var(--thelo-text)] sm:text-5xl" data-i18n="contactTitle">Contact Aram</h2>
            <p class="mt-6 text-lg text-slate-600" data-i18n="contactSub">I am actively seeking partners, mentors, and institutions to help grow thelo. The best way to connect is to schedule a 30-minute call directly in my calendar below. I look forward to speaking with you.</p>
        </div>
        <div class="anim-target mt-8 text-slate-600" style="transition-delay: 0.1s;">
            <p class="mb-4" data-i18n="contactAlt">Or, contact me directly:</p>
            <div class="flex flex-col sm:flex-row justify-center items-center gap-4 sm:gap-8">
                <a href="mailto:aramasatryan290@gmail.com" class="font-semibold flex items-center gap-2 hover:text-[var(--thelo-blue)] transition-colors">
                    <i class="fas fa-envelope fa-fw"></i> <span>aramasatryan290@gmail.com</span>
                </a>
                <a href="tel:+37477411798" class="font-semibold flex items-center gap-2 hover:text-[var(--thelo-blue)] transition-colors">
                    <i class="fas fa-phone fa-fw"></i> <span data-i18n="contactPhone">+374 77 411 798</span>
                </a>
            </div>
        </div>
        <div class="calendly-inline-widget anim-target mt-12" data-url="https://calendly.com/aramasatryan290/30min" style="min-width:320px; height:700px; transition-delay: 0.2s;"> </div>
        <script type="text/javascript" src="https://assets.calendly.com/assets/external/widget.js" async></script>
    </div>
</section>

<footer class="py-10 text-center text-sm text-slate-500">
    <p data-i18n="footer">© 2025 thelo</p>
</footer>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";

    document.addEventListener('DOMContentLoaded', () => {

        const loginAnchor = document.querySelector('[data-i18n="navAuth"]');
        const mobileMenuButton = document.getElementById('mobileMenuButton');
        const mobileMenu = document.getElementById('mobileMenu');
        let currentUser = null;

        const strings = {
            en: {
                navAuth: 'Log in', 
                navDash: 'Dashboard', 
                title: 'thelo', 
                navWhy: 'Why thelo?', 
                navThelopad: 'How It Works', 
                navContact: 'Contact', 
                navJoin: 'Join',
                footer: '© 2025 thelo'
            }
        };

        function updateAuthUI() {
            if (!loginAnchor) return;
            const T = strings.en;
            if (currentUser) {
                loginAnchor.href = "/sdashboard";
                loginAnchor.textContent = T.navDash;
                document.querySelector('#mobileMenu a[data-i18n="navAuth"]').textContent = T.navDash;
            } else {
                loginAnchor.href = "/auth";
                loginAnchor.textContent = T.navAuth;
                document.querySelector('#mobileMenu a[data-i18n="navAuth"]').textContent = T.navAuth;
            }
        }

        function applyContent() {
            const T = strings.en;
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.dataset.i18n;
                // Only update if the element is empty, preserving the default content
                if (key !== 'navAuth' && T[key] && el.innerHTML.trim() === '') {
                    el.innerHTML = T[key];
                }
            });
            updateAuthUI();
        }

        const firebaseConfig = {
            apiKey: "AIzaSyAbnPpcIt88B0jIAoLUdC71zmQDvR_fdu8",
            authDomain: "physmathacademy-722b3.firebaseapp.com",
            projectId: "physmathacademy-722b3",
            storageBucket: "physmathacademy-722b3.appspot.com",
            appId: "1:1093640992262:web:35b1bf4d2364bcf745f587"
        };
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        onAuthStateChanged(auth, user => {
            currentUser = user;
            updateAuthUI();
        });
        
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });
        document.querySelectorAll('#mobileMenu a').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.add('hidden');
            });
        });

        const animationObserver = new IntersectionObserver((entries) => entries.forEach(entry => {
            if(entry.isIntersecting){ entry.target.classList.add('is-visible'); animationObserver.unobserve(entry.target); }
        }), { threshold: 0.1 });
        document.querySelectorAll('.anim-target').forEach(el => animationObserver.observe(el));

        const setupDrawingReplay = () => {
            const canvas = document.getElementById('replayCanvas');
            if (!canvas) return;
            
            const feedbackEl = document.getElementById('replay-feedback'); 
            if (!feedbackEl) return;

            const ctx = canvas.getContext('2d');
            let drawingData = null;
            let animationFrameId = null;

            const devicePixelRatio = window.devicePixelRatio || 1;

            const resizeCanvas = () => {
                const rect = canvas.getBoundingClientRect();
                canvas.width = rect.width * devicePixelRatio;
                canvas.height = rect.height * devicePixelRatio;
                ctx.scale(devicePixelRatio, devicePixelRatio);
                if (drawingData) {
                    renderDrawingAtTime(Infinity, drawingData, ctx);
                }
            };

            const renderDrawingAtTime = (targetTime, data, context) => {
                const canvasWidth = context.canvas.width / devicePixelRatio;
                const canvasHeight = context.canvas.height / devicePixelRatio;
                context.clearRect(0, 0, canvasWidth, canvasHeight);
                context.lineCap = 'round';
                context.lineJoin = 'round';

                data.strokes.forEach(stroke => {
                    const strokeStartTime = stroke.startTime || 0;
                    if (targetTime < strokeStartTime) return;

                    context.strokeStyle = stroke.color || '#2563EB';
                    context.lineWidth = stroke.lineWidth || 4;
                    
                    context.beginPath();
                    let movedToFirstPoint = false;

                    for (let i = 0; i < stroke.points.length; i++) {
                        const point = stroke.points[i];
                        const pointTimeAbsolute = strokeStartTime + (point.timeOffset || 0);
                        if (pointTimeAbsolute > targetTime) break;

                        if (!movedToFirstPoint) {
                            context.moveTo(point.normX * canvasWidth, point.normY * canvasHeight);
                            movedToFirstPoint = true;
                        } else {
                            context.lineTo(point.normX * canvasWidth, point.normY * canvasHeight);
                        }
                    }
                    if (movedToFirstPoint) context.stroke();
                });
            };

            const startReplayAnimation = (data) => {
                if (animationFrameId) cancelAnimationFrame(animationFrameId);
                
                let startTime = 0;
                const totalDuration = data.strokes.reduce((max, s) => Math.max(max, s.endTime), 0);

                const animate = (timestamp) => {
                    if (!startTime) startTime = timestamp;
                    const elapsedTime = timestamp - startTime;

                    renderDrawingAtTime(elapsedTime, data, ctx);

                    if (elapsedTime < totalDuration) {
                        animationFrameId = requestAnimationFrame(animate);
                    } else {
                        renderDrawingAtTime(Infinity, data, ctx); 
                        animationFrameId = null;
                        
                        setTimeout(() => {
                            try {
                                const container = canvas.parentElement; 
                                const rect = container.getBoundingClientRect();
                                const lastStroke = data.strokes.reduce((a, b) => (a.endTime > b.endTime ? a : b));
                                const lastPt = lastStroke.points[lastStroke.points.length - 1];
                                const xPx = lastPt.normX * rect.width;
                                const yPx = lastPt.normY * rect.height;

                                feedbackEl.style.right = 'auto';
                                feedbackEl.style.bottom = 'auto';
                                feedbackEl.style.left = `${xPx}px`;
                                feedbackEl.style.top  = `${yPx}px`;
                                feedbackEl.style.transform = `translate(-50%, 12px)`;

                                feedbackEl.classList.remove('opacity-0');
                                feedbackEl.classList.add('opacity-100');
                            } catch (e) {
                                console.error('Could not place feedback:', e);
                                feedbackEl.classList.remove('opacity-0');
                                feedbackEl.classList.add('opacity-100');
                            }
                        }, 500);
                    }
                };
                animationFrameId = requestAnimationFrame(animate);
            };

            const replayObserver = new IntersectionObserver(async (entries, observer) => {
                const entry = entries[0];
                if (entry.isIntersecting) {
                    try {
                        const response = await fetch('https://thelo.space/lessons/drawings/main.json');
                        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                        
                        drawingData = await response.json();
                        resizeCanvas();
                        startReplayAnimation(drawingData);

                        observer.unobserve(canvas);
                    } catch (error) {
                        console.error('Failed to load drawing data:', error);
                    }
                }
            }, { threshold: 0.4 }); 

            replayObserver.observe(canvas);
            window.addEventListener('resize', resizeCanvas);
        };

        // I've removed the initial content loading since it's now in the HTML,
        // but keeping the function structure for potential future language switching.
        applyContent();
        setupDrawingReplay();
    });
</script>

</body>
</html>
