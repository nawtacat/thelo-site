{
  "lessonTitle": "Pythagorean & Percents Practice",
  "lessonLanguage": "en",
  "stages": [
    {
      "type": "explanation",
      "headline": "Welcome! This lesson tests /K a^2 + b^2 = c^2 K/ and percent skills. Follow the on-screen instructions.",
      "studentInput": false,
      "audioFile": "https://pha.am/audios/v1.ogg"
    },
    {
      "type": "explanation",
      "headline": "Here is a diagram of a right triangle. Notice the sides /K a, b, c K/.",
      "image": "https://upload.wikimedia.org/wikipedia/commons/thumb/1/1e/Trigonometry_triangle.svg/1200px-Trigonometry_triangle.svg.png",
      "studentInput": false
    },
    {
      "type": "explanation_with_mcq",
      "headline": "If /K a = 3 K/ and /K b = 4 K/, what is the value of side /K c K/?\n\nDraw your work below, select an answer, and press Check.",
      "image": "https://upload.wikimedia.org/wikipedia/commons/thumb/1/1e/Trigonometry_triangle.svg/1200px-Trigonometry_triangle.svg.png",
      "studentInput": true,
      "optionsQuiz": {
        "choices": ["/K 3 K/", "/K 5 K/", "/K 7 K/"],
        "correctIndex": 1,
        "feedbackCorrect": "Excellent! You got it."
      },
      "problemText": "Solve for the hypotenuse c in a right triangle with legs a=3 and b=4 using the Pythagorean theorem.",
      "correctAnswer": "5",
      "solutionSteps": "1) a^2 + b^2 = c^2. 2) 3^2 + 4^2 = c^2. 3) 9 + 16 = 25. 4) c = sqrt(25) = 5.",
      "llmHints": {
        "language": "en",
        "revealOnAttempt": 3,
        "answer": {
          "value": 5,
          "finalFormRegex": "(?:\\bc\\s*=\\s*)?5\\b",
          "tolerance": 0,
          "units": null
        },
        "methods": {
          "pythagorean": {
            "niceName": "Pythagorean theorem",
            "mustSeeAnyTokens": ["a^2+b^2=c^2", "3^2+4^2=c^2", "c^2=25", "sqrt(25)"],
            "optionalTokens": ["9+16=25", "c=5"]
          },
          "unclear": {}
        },
        "methodRules": {
          "onlyAttributeIfTokensVisible": true,
          "defaultOnUnclear": "unclear"
        },
        "misconceptions": [
          {
            "regex": "\\b3\\s*\\+\\s*4\\s*=\\s*7\\b",
            "feedback": "You added the legs. Start with a^2 + b^2 = c^2 and square first."
          }
        ],
        "feedbackTemplates": {
          "correct_generic": "Your answer is correct.",
          "correct_pythagorean": "Nice work—you applied a^2 + b^2 = c^2 and got c = 5.",
          "unclear_method": "Your answer may be correct, but I couldn't read the steps clearly. Please rewrite the key step."
        },
        "disallowedPhrases": [
          "converted the percentage to a decimal"
        ]
      }
    },
    {
      "type": "question_math_solution",
      "headline": "What is /K 80\\% K/ of /K 15 K/?\n\nShow your work then press Check.",
      "studentInput": true,
      "problemText": "Compute 80% of 15.",
      "correctAnswer": "12",
      "solutionSteps": "Either use 80/100 * 15 = 12 (simplify the fraction), or 0.80 × 15 = 12.",
      "llmHints": {
        "language": "en",
        "revealOnAttempt": 3,
        "answer": {
          "value": 12,
          "finalFormRegex": "^\\s*12\\s*$",
          "tolerance": 0,
          "units": null
        },
        "methods": {
          "fraction_percent_over_100": {
            "niceName": "fraction method",
            "mustSeeAnyTokens": ["80/100", "15/100", "×15", "15×80/100", "=12"]
          },
          "percent_as_decimal": {
            "niceName": "decimal method",
            "mustSeeAnyTokens": ["0.8", "0.80", "0.15", "0.12", "×15", "]()
