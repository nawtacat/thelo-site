<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title data-i18n="title">thelo</title>
    <link rel="icon" href="https://thelo.space/img/thelofavicon.png" type="image/png" />
    <link rel="apple-touch-icon" href="https://thelo.space/img/yarnicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;700;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

    <style>
        /* CSS Variables & Base Styles */
        :root {
            --thelo-blue: #2563EB;
            --thelo-bg: #F8F9FA;
            --thelo-text: #111827;
            --grid-color: #E5E7EB;
            --slate-200: #E2E8F0;
            --slate-500: #64748B;
            --slate-600: #475569;
            --slate-800: #1E293B;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Manrope', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            background-color: var(--thelo-bg);
            color: var(--thelo-text);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            background-image:
                linear-gradient(to right, var(--grid-color) 1px, transparent 1px),
                linear-gradient(to bottom, var(--grid-color) 1px, transparent 1px);
            background-size: 40px 40px;
        }

        h1, h2, h3, h4, h5, h6 {
            font-weight: 800;
        }

        img, svg {
            display: block;
            vertical-align: middle;
        }

        .hidden {
            display: none;
        }

        /* Reusable Container & Section Padding */
        .container {
            max-width: 80rem;
            margin-left: auto;
            margin-right: auto;
            padding-left: 1.5rem;
            padding-right: 1.5rem;
        }

        .section-padding {
            padding-top: 6rem;
            padding-bottom: 6rem;
        }

        @media (min-width: 640px) {
            .section-padding {
                padding-top: 8rem;
                padding-bottom: 8rem;
            }
        }
        @media (min-width: 1024px) {
            .container {
                padding-left: 2rem;
                padding-right: 2rem;
            }
        }

        /* Animation & UI Elements */
        .anim-target {
            opacity: 0;
            transition: opacity 0.7s cubic-bezier(0.215, 0.610, 0.355, 1), transform 0.7s cubic-bezier(0.215, 0.610, 0.355, 1);
            transform: translateY(20px);
        }

        .anim-target.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        .window-container {
            position: relative;
            background-color: white;
            border: 1px solid var(--grid-color);
            border-radius: 0.75rem;
            padding: 2.5rem;
            margin-top: 4rem;
        }

        .window-container::before {
            content: ' ';
            position: absolute;
            top: 1rem;
            left: 1rem;
            width: 52px;
            height: 12px;
            background-image: url("data:image/svg+xml,%3Csvg width='52' height='12' viewBox='0 0 52 12' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='6' cy='6' r='6' fill='%23FF5F56'/%3E%3Ccircle cx='26' cy='6' r='6' fill='%23FFBD2E'/%3E%3Ccircle cx='46' cy='6' r='6' fill='%2327C93F'/%3E%3C/svg%3E%0A");
            background-repeat: no-repeat;
        }

        /* Navigation */
        #mainNav {
            position: sticky;
            top: 0;
            width: 100%;
            z-index: 50;
            border-bottom: 1px solid var(--slate-200);
            background-color: rgba(248, 249, 250, 0.8); /* a fallback */
            -webkit-backdrop-filter: blur(4px);
            backdrop-filter: blur(4px);
        }

        #mainNav .nav-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding-top: 0.75rem;
            padding-bottom: 0.75rem;
        }
        
        #mainNav .logo-link {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        #mainNav .logo-img {
            height: 2.25rem;
            width: auto;
        }

        #mainNav .desktop-nav {
            display: none;
            gap: 2rem;
        }

        .nav-link {
            color: var(--thelo-text);
            transition: color 0.2s;
            font-weight: 600;
        }

        .nav-link:hover {
            color: var(--thelo-blue);
        }

        #mobileMenuButton {
            border-radius: 0.375rem;
            padding: 0.5rem;
            color: var(--slate-600);
        }
        #mobileMenuButton:hover {
            background-color: #F1F5F9; /* slate-100 */
        }
        #mobileMenuButton:focus {
            outline: 2px solid transparent;
            outline-offset: 2px;
            box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.5);
        }
        #mobileMenuButton svg {
            height: 1.5rem;
            width: 1.5rem;
        }

        #mobileMenu {
            border-top: 1px solid var(--slate-200);
            background-color: white;
            padding: 0.5rem 1rem 1rem;
        }
        #mobileMenu .nav-link {
            display: block;
            padding-top: 0.5rem;
            padding-bottom: 0.5rem;
        }
        
        @media (min-width: 768px) {
            #mainNav .desktop-nav {
                display: flex;
            }
            #mobileMenuButton, #mobileMenu {
                display: none;
            }
        }


        /* Header */
        header {
            position: relative;
            overflow: hidden;
            padding-top: 4rem;
            padding-bottom: 6rem;
        }

        header .grid-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 4rem 3rem;
            max-width: 42rem;
            margin-left: auto;
            margin-right: auto;
        }

        header h1 {
            font-size: 3.75rem;
            line-height: 1;
            letter-spacing: -0.05em;
        }

        header h1 span {
            color: var(--thelo-blue);
        }

        header .text-content {
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        header .text-content p {
            font-size: 1.125rem;
        }
        header .text-content p:first-of-type {
            font-weight: 600;
        }
        header .text-content p + p {
             margin-top: 1rem;
             color: var(--slate-600);
        }
        
        @media (min-width: 640px) {
            header h1 {
                font-size: 4.5rem;
            }
        }
        @media (min-width: 1024px) {
            header {
                padding-top: 6rem;
                padding-bottom: 8rem;
            }
            header .grid-container {
                max-width: none;
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Why Thelo Section */
        #why .text-center {
            max-width: 48rem;
            margin-left: auto;
            margin-right: auto;
            text-align: center;
        }

        #why h2 {
            font-size: 2.25rem;
        }

        #why .grid-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 3rem;
            padding-top: 2rem;
            text-align: center;
        }

        #why h3 {
            font-size: 1.25rem;
            font-weight: 700;
        }

        #why p {
            margin-top: 0.5rem;
            color: var(--slate-600);
        }
        
        @media (min-width: 640px) {
            #why h2 {
                font-size: 3rem;
            }
        }
        @media (min-width: 768px) {
            #why .grid-container {
                grid-template-columns: repeat(3, 1fr);
                text-align: left;
            }
        }

        /* Thelopad Section */
        #thelopad h2 {
            font-size: 2.25rem;
        }
        #thelopad .grid-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2.5rem 4rem;
        }
        #thelopad .text-content {
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        #thelopad .tag {
            display: inline-block;
            width: fit-content;
            margin-top: 1rem;
            border-radius: 9999px;
            background-color: var(--thelo-blue);
            padding: 0.375rem 1rem;
            font-size: 1.125rem;
            font-weight: 700;
            color: white;
        }
        #thelopad .subtext {
            margin-top: 2rem;
            font-size: 1.125rem;
            color: var(--slate-600);
        }
        #thelopad .image-container img {
            width: 100%;
            height: auto;
            object-fit: contain;
        }
        
        @media (min-width: 640px) {
            #thelopad h2 {
                font-size: 3rem;
            }
        }
        @media (min-width: 1024px) {
            #thelopad .grid-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Drawing Replay Section */
        #drawing-replay .canvas-wrapper {
            position: relative;
            width: 100%;
            aspect-ratio: 16 / 9;
        }
        #replayCanvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: transparent;
        }
        #replay-feedback {
            position: absolute;
            right: 1.5rem;
            opacity: 0;
            transition: opacity 700ms cubic-bezier(0, 0, 0.2, 1);
            pointer-events: none;
            /* In-line style from original for position is kept */
        }
        #replay-feedback .feedback-box {
            max-width: 28rem;
            padding: 1rem;
            background-color: rgba(255, 255, 255, 0.7);
            -webkit-backdrop-filter: blur(4px);
            backdrop-filter: blur(4px);
            border: 1px solid var(--slate-200);
            border-radius: 1rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            pointer-events: auto;
        }
        #replay-feedback p {
            font-weight: 600;
            color: var(--slate-800);
        }

        /* Contact Section */
        #contact .container {
             max-width: 56rem;
             text-align: center;
        }
        #contact h2 {
            font-size: 2.25rem;
        }
        #contact .subtext {
            margin-top: 1.5rem;
            font-size: 1.125rem;
            color: var(--slate-600);
        }
        #contact .contact-methods {
            margin-top: 2rem;
            color: var(--slate-600);
        }
        #contact .contact-methods p {
            margin-bottom: 1rem;
        }
        #contact .links-container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 1rem;
        }
        #contact .contact-link {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 600;
            color: var(--slate-600);
            transition: color 150ms;
        }
        #contact .contact-link:hover {
            color: var(--thelo-blue);
        }
        .calendly-inline-widget {
            margin-top: 3rem;
        }
        
        @media (min-width: 640px) {
            #contact h2 {
                font-size: 3rem;
            }
            #contact .links-container {
                flex-direction: row;
                gap: 2rem;
            }
        }

        /* Footer */
        footer {
            padding-top: 2.5rem;
            padding-bottom: 2.5rem;
            text-align: center;
            font-size: 0.875rem;
            color: var(--slate-500);
        }
    </style>
</head>

<body>

<nav id="mainNav">
    <div class="container nav-content">
        <a href="/" class="logo-link">
            <img src="https://thelo.space/img/bluethelo.svg" alt="thelo logo" class="logo-img" />
        </a>
        <ul class="desktop-nav">
            <li><a href="#why" class="nav-link" data-i18n="navWhy">Why thelo?</a></li>
            <li><a href="#thelopad" class="nav-link" data-i18n="navThelopad">How It Works</a></li>
            <li><a href="https://thelo.space/auth" class="nav-link" data-i18n="navAuth">Log in</a></li>
            <li><a href="#contact" class="nav-link" data-i18n="navContact">Contact</a></li>
        </ul>
        <div class="mobile-menu-toggle">
            <button id="mobileMenuButton">
                <svg fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                </svg>
            </button>
        </div>
    </div>
    <div id="mobileMenu" class="hidden">
        <ul>
            <li><a href="#why" class="nav-link" data-i18n="navWhy">Why thelo?</a></li>
            <li><a href="#thelopad" class="nav-link" data-i18n="navThelopad">How It Works</a></li>
            <li><a href="https://thelo.space/auth" class="nav-link" data-i18n="navAuth">Log in</a></li>
            <li><a href="#contact" class="nav-link" data-i18n="navContact">Contact</a></li>
            <li><a href="https://thelo.space/satmathteam/" class="nav-link" data-i18n="navJoin">Join</a></li>
        </ul>
    </div>
</nav>

<header class="section-padding">
    <div class="container">
        <div class="grid-container">
            <div class="anim-target">
                <h1 data-i18n="heroTitle"></h1>
            </div>
            <div class="anim-target text-content" style="transition-delay: 0.1s;">
                <p data-i18n="heroP1"></p>
                <p data-i18n="heroP2"></p>
                <p data-i18n="heroP3"></p>
            </div>
        </div>
    </div>
</header>

<section id="why" class="section-padding">
    <div class="container">
        <div class="text-center anim-target">
            <h2 data-i18n="whyTitle"></h2>
        </div>
        <div class="window-container anim-target" style="transition-delay: 0.2s;">
            <div class="grid-container">
                <div>
                    <h3 data-i18n="why1h"></h3>
                    <p data-i18n="why1p"></p>
                </div>
                <div>
                    <h3 data-i18n="why2h"></h3>
                    <p data-i18n="why2p"></p>
                </div>
                <div>
                    <h3 data-i18n="why3h"></h3>
                    <p data-i18n="why3p"></p>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="thelopad" class="section-padding">
    <div class="container">
        <div class="grid-container">
            <div class="anim-target text-content">
                <h2 data-i18n="thelopadTitle"></h2>
                <div class="tag" data-i18n="thelopadTag"></div>
                <p class="subtext" data-i18n="thelopadSub"></p>
            </div>
            <div class="anim-target image-container" style="transition-delay: 0.2s;">
                <img src="https://thelo.space/img/theloLaptop.png" alt="A mockup of the thelopad tablet and a laptop showing thelo's interface">
            </div>
        </div>
    </div>
</section>

<section id="drawing-replay" class="section-padding">
    <div class="container">
        <div class="canvas-wrapper">
            <canvas id="replayCanvas"></canvas>
            <div id="replay-feedback" style="inset:auto auto 96px auto !important;">
                <div class="feedback-box">
                    <p>That is the correct formula. Great work! 🎉</p>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="contact" class="section-padding">
    <div class="container">
        <div class="anim-target">
            <h2 data-i18n="contactTitle">Contact Aram</h2>
            <p class="subtext" data-i18n="contactSub">I am actively seeking partners, mentors, and institutions to help grow thelo. The best way to connect is to schedule a 30-minute call directly in my calendar below. I look forward to speaking with you.</p>
        </div>
        <div class="anim-target contact-methods" style="transition-delay: 0.1s;">
            <p data-i18n="contactAlt">Or, contact me directly:</p>
            <div class="links-container">
                <a href="mailto:aramasatryan290@gmail.com" class="contact-link">
                    <i class="fas fa-envelope fa-fw"></i> <span>aramasatryan290@gmail.com</span>
                </a>
                <a href="tel:+37477411798" class="contact-link">
                    <i class="fas fa-phone fa-fw"></i> <span data-i18n="contactPhone">+374 77 411 798</span>
                </a>
            </div>
        </div>
        <div class="calendly-inline-widget anim-target" data-url="https://calendly.com/aramasatryan290/30min" style="min-width:320px; height:700px; transition-delay: 0.2s;"></div>
        <script type="text/javascript" src="https://assets.calendly.com/assets/external/widget.js" async></script>
    </div>
</section>

<footer>
    <p data-i18n="footer"></p>
</footer>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";

    document.addEventListener('DOMContentLoaded', () => {

        const loginAnchor = document.querySelector('[data-i18n="navAuth"]');
        const mobileMenuButton = document.getElementById('mobileMenuButton');
        const mobileMenu = document.getElementById('mobileMenu');
        let currentUser = null;

        const strings = {
            en: {
                navAuth: 'Log in',
                navDash: 'Dashboard',
                title: 'thelo',
                navWhy: 'Why thelo?',
                navThelopad: 'How It Works',
                navContact: 'Contact',
                navJoin: 'Join',
                heroTitle: 'Weaving <br><span>Education.</span>',
                heroP1: 'thelo merges the natural feel of pencil on paper with the power of a personal AI tutor.',
                heroP2: 'Write your solutions in a normal notebook placed on our tablet. thelo digitizes your work instantly and guides you, step-by-step.',
                heroP3: 'It’s the most intuitive way to master math.',
                whyTitle: 'The Best of Both Worlds',
                why1h: 'Write on Real Paper',
                why1p: 'No more slippery screens. Get the tactile feedback of writing on paper, which is proven to improve retention and understanding.',
                why2h: 'Instant AI Analysis',
                why2p: 'As you write, our AI analyzes your work, providing hints and feedback just like a real tutor would. No waiting, no scanning.',
                why3h: 'Keep Your Notes',
                why3p: 'At the end of a session, you have a physical copy of your work in your notebook, and a digital record of your progress in the cloud.',
                thelopadTitle: 'How Does It Work?',
                thelopadTag: 'Simple & Intuitive',
                thelopadSub: 'Our system uses a standard drawing tablet and a special stylus with a graphite tip. You simply place your own paper on the tablet and start writing. The tablet captures the position of your pen, while the graphite leaves a real mark on your paper. It’s a seamless bridge between the physical and digital, requiring no new skills to learn.',
                contactTitle: 'Contact Aram',
                contactSub: 'I am actively seeking partners, mentors, and institutions to help grow thelo. The best way to connect is to schedule a 30-minute call directly in my calendar below. I look forward to speaking with you.',
                contactAlt: 'Or, contact me directly:',
                contactPhone: '+374 77 411 798',
                footer: '© 2025 thelo'
            }
        };

        function updateAuthUI() {
            if (!loginAnchor) return;
            const T = strings.en;
            if (currentUser) {
                loginAnchor.href = "/sdashboard";
                loginAnchor.textContent = T.navDash;
                document.querySelector('#mobileMenu a[data-i18n="navAuth"]').textContent = T.navDash;
            } else {
                loginAnchor.href = "/auth";
                loginAnchor.textContent = T.navAuth;
                document.querySelector('#mobileMenu a[data-i18n="navAuth"]').textContent = T.navAuth;
            }
        }

        function applyContent() {
            const T = strings.en;
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.dataset.i18n;
                if (key !== 'navAuth' && T[key]) {
                    el.innerHTML = T[key];
                }
            });
            updateAuthUI();
        }

        const firebaseConfig = {
            apiKey: "AIzaSyAbnPpcIt88B0jIAoLUdC71zmQDvR_fdu8",
            authDomain: "physmathacademy-722b3.firebaseapp.com",
            projectId: "physmathacademy-722b3",
            storageBucket: "physmathacademy-722b3.appspot.com",
            appId: "1:1093640992262:web:35b1bf4d2364bcf745f587"
        };
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        onAuthStateChanged(auth, user => {
            currentUser = user;
            updateAuthUI();
        });

        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });
        document.querySelectorAll('#mobileMenu a').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.add('hidden');
            });
        });

        const animationObserver = new IntersectionObserver((entries) => entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('is-visible');
                animationObserver.unobserve(entry.target);
            }
        }), { threshold: 0.1 });
        document.querySelectorAll('.anim-target').forEach(el => animationObserver.observe(el));

        // START: Drawing Replay Logic
        const setupDrawingReplay = () => {
            const canvas = document.getElementById('replayCanvas');
            const feedbackEl = document.getElementById('replay-feedback');
            if (!canvas || !feedbackEl) return;

            const ctx = canvas.getContext('2d');
            let drawingData = null;
            let animationFrameId = null;

            const devicePixelRatio = window.devicePixelRatio || 1;

            const resizeCanvas = () => {
                const rect = canvas.getBoundingClientRect();
                canvas.width = rect.width * devicePixelRatio;
                canvas.height = rect.height * devicePixelRatio;
                ctx.scale(devicePixelRatio, devicePixelRatio);
                if (drawingData) {
                    renderDrawingAtTime(Infinity, drawingData, ctx);
                }
            };

            const renderDrawingAtTime = (targetTime, data, context) => {
                const canvasWidth = context.canvas.width / devicePixelRatio;
                const canvasHeight = context.canvas.height / devicePixelRatio;
                context.clearRect(0, 0, canvasWidth, canvasHeight);
                context.lineCap = 'round';
                context.lineJoin = 'round';

                data.strokes.forEach(stroke => {
                    const strokeStartTime = stroke.startTime || 0;
                    if (targetTime < strokeStartTime) return;

                    context.strokeStyle = stroke.color || '#2563EB';
                    context.lineWidth = stroke.lineWidth || 4;

                    context.beginPath();
                    let movedToFirstPoint = false;

                    for (let i = 0; i < stroke.points.length; i++) {
                        const point = stroke.points[i];
                        const pointTimeAbsolute = strokeStartTime + (point.timeOffset || 0);
                        if (pointTimeAbsolute > targetTime) break;

                        if (!movedToFirstPoint) {
                            context.moveTo(point.normX * canvasWidth, point.normY * canvasHeight);
                            movedToFirstPoint = true;
                        } else {
                            context.lineTo(point.normX * canvasWidth, point.normY * canvasHeight);
                        }
                    }
                    if (movedToFirstPoint) context.stroke();
                });
            };

            const startReplayAnimation = (data) => {
                if (animationFrameId) cancelAnimationFrame(animationFrameId);

                let startTime = 0;
                const totalDuration = data.strokes.reduce((max, s) => Math.max(max, s.endTime), 0);

                const animate = (timestamp) => {
                    if (!startTime) startTime = timestamp;
                    const elapsedTime = timestamp - startTime;

                    renderDrawingAtTime(elapsedTime, data, ctx);

                    if (elapsedTime < totalDuration) {
                        animationFrameId = requestAnimationFrame(animate);
                    } else {
                        renderDrawingAtTime(Infinity, data, ctx); // Ensure final frame is perfect
                        animationFrameId = null;

                        // Show feedback message after a short delay
                        setTimeout(() => {
                           feedbackEl.style.opacity = '1';
                        }, 500);
                    }
                };
                animationFrameId = requestAnimationFrame(animate);
            };

            const replayObserver = new IntersectionObserver(async (entries, observer) => {
                const entry = entries[0];
                if (entry.isIntersecting) {
                    try {
                        const response = await fetch('https://thelo.space/lessons/drawings/main.json');
                        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);

                        drawingData = await response.json();
                        resizeCanvas();
                        startReplayAnimation(drawingData);

                        observer.unobserve(canvas);
                    } catch (error) {
                        console.error('Failed to load drawing data:', error);
                    }
                }
            }, { threshold: 0.4 });

            replayObserver.observe(canvas);
            window.addEventListener('resize', resizeCanvas);
        };
        // END: Drawing Replay Logic

        setupDrawingReplay();
        applyContent();
    });
</script>

</body>
</html>
